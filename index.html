<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Conte√∫do sem no√ß√£o</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
         <!-- Bot√£o Sobre -->
    <div class="sobre">
     <a href="/sobre.html" class="btn-sobre">Sobre</a>
    </div>
    <h1>Batalha dos Nicolas</h1>
  </header>

  <div class="layout">
    <aside class="sidebar compacto">
      <section style="padding:12px 0;">
        <label for="tema" style="color:#BDC3C7; margin-right:8px;">ESCOLHA O TEMA:</label>
        <select id="tema">
          <option value="Nicolas_Legal">Nicolas Legal</option>
          <option value="Nicolas_Netto">Nicolas Netto</option>
          <option value="Brainrot">Brainrot</option>
          <option value=" Bolofofos"> Bolofofos</option>
        </select>
      </section>

      <nav class="nav-vertical" aria-label="Lista de v√≠deos do tema">
        <ul id="menu-temas"></ul>
      </nav>

      <br>
      <h1 style="font-size:15px; color:#f0f0f0; margin:16px 0; text-align:left;">
  V√çDEOS EXTERNOS DO YOUTUBEüëá
</h1>
      <nav class="nav-vertical" aria-label="V√≠deos fixos">
        <ul>
          <li><a href="https://youtu.be/3HPaXHiDkL0?si=YOkL2TVz_rQDRrXF" target="_blank">Tchaikovsky: Swan Lake</a></li>
          <li><a href="https://youtu.be/muowVV_ITKc?si=Bj87Hh1g46L1HM6K" target="_blank">Vivaldi- Summer</a></li>
          <li><a href="https://youtu.be/H1S_PI3R3_E?si=1ivyQ7ZCWw4Q5Q-P" target="_blank">Bach: Brandenburg Concerto No. 1 - III. Allegro (Excerpt)</a></li>
          <li><a href="https://youtu.be/GsJQNwjrIA8?si=KI-Q7wOTi1w6GUiW" target="_blank">Saint-Sa√´ns: 1. Cellokonzert ‚àô </a></li>
          <li><a href="https://youtu.be/2bFo65szAP0?si=ZzAaHB6u90I3yuyM" target="_blank">Fr√©d√©ric Chopin: Piano Concerto No. 1 e-minor (Olga Scheps live)</a></li>
        </ul>
      </nav>
    </aside>

    <main class="player">
      <div class="video-box">
        <iframe
          class="video-frame"
          width="540"
          height="310"
          src="https://www.youtube.com/embed/kNJPalON82E"
          title="Player de v√≠deo"
          frameborder="0"
          allowfullscreen
        ></iframe>

        <div class="info">
          <h3>Eu Sou Teu Pai</h3>
          <p>Valesca Mayssa.</p>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Mapa de temas ‚Üí lista de v√≠deos
    const TEMAS = {
    // CORRE√á√ÉO 1: Adicionada v√≠rgula ap√≥s o array Nicolas_Legal para evitar erro de sintaxe.
    Nicolas_Legal:[ { titulo: "Nicolas Legal brincando com a cole√ß√£o de brinquedos do Minecraft", 
         autor: "Nicolas Legal", 
         url: "https://youtu.be/hA6-oc06Ip4" 
        },
        { titulo: "Escape Stitch ROBLOX", 
         autor: "Nicolas Legal", 
         url: "https://youtu.be/ZZ9Ol7mvEiU?si=bd8hnmRGPbR1gKBy" 
        },
      
        { titulo: "Torta na Cara", 
         autor: "Nicolas Legal", 
         url: "https://youtu.be/LYsaKn8FRhc?si=R7yN3htfuafehfSw" 

        },
        { titulo: "Como D√≥i", 
         autor: "Nicolas Legal", 
         url: "https://youtu.be/0nfbE1HfABQ?si=MLXLo-xfk-YjqgiA" 

        },
        { titulo: "Conhe√ßa os Pok√©monsters", 
         autor: "Nicolas Legal", 
         url: "https://youtu.be/n-1_HbcYneg?si=82AgGinDNcrXwUxW" 

        },], // <<< V√çRGULA ADICIONADA AQUI
      Nicolas_Netto: [
        { titulo: "M√öSICA EM DIVERS√ÉO", 
         autor: " Nicolas Netto", 
         url: "https://youtu.be/OpQxZcxPqkw?si=Wm8fgC7mmkFe1FdS" 
        },
        { titulo: "EXPLOS√ÉO DE ALEGRIA ", 
         autor: " Nicolas Netto", 
         url: "https://youtu.be/XBIVQf-OYOQ?si=dDw4bI5PbflZ1x3H" 
        },
         { titulo: "ENERGIA DA AMIZADE ", 
         autor: " Nicolas Netto", 
         url: "https://youtu.be/zotOtSGyjTw?si=4sgH_uP4ULH3qUIM" 
        },
         { titulo: "CROCODILO ", 
         autor: " Nicolas Netto", 
         url: "https://youtu.be/INk_kbjzBWc?si=rVjsq3eVwaFUI6hu" 
        },
         { titulo: "MENINA LINDA ", 
         autor: " Nicolas Netto", 
         url: "https://youtu.be/qdaUioTo96s?si=jPAbm--AL5bXOd-v" 
        },
      ],
    Brainrot: [
        { titulo: "Tung Tung Tung Sahur", 
         autor: "W&W ", 
         url: "https://youtu.be/6onc3rpArns?si=lAL3-NjT-dwpymMQ" 
        },
        { titulo: "Brainrot Gang ", 
         autor: "Neow", 
         url: "https://youtu.be/2D1rExarl4M?si=lWgOXRf23eDwBhRs" 
        },
        { titulo: "ADIVINHE OS MEMES BRAINROT", 
         autor: "MacaQuiz", 
         url: "https://youtu.be/9luEaIsxYBk?si=hhsG19uVLlcUkZi9" 
        },
         { titulo: " Brainrot Rap", 
         autor: "Party Tunes", 
         url: "https://youtu.be/T_NKi5KHUdI?si=KqGGoRtTU7_tysBd" 
        },
         { titulo: "Bailarina Capuchina ", 
         autor: "Notas de Miel", 
         url: "https://youtu.be/76_WOw2Lhq0?si=iDDU4OLjjdq1ICup" 
        },
      
      ],
     Bolofofos: [
        { titulo: "Ta na hora do papa", 
         autor: " Bolofofos", 
         url: "https://youtu.be/kgA_WFHjRQA?si=TzCWi4p0D9AhLZMa" 
        },
          { titulo: "FUNK do P√£o de Queijo", 
         autor: " Bolofofos", 
         url: "https://youtu.be/1BZ5s6BcvKg?si=oNuEPZMZD6OXC9W1" 
        },
          { titulo: "Dan√ßa dos Bolofofos", 
         autor: " Bolofofos", 
         url: "https://youtu.be/MxPReMGiP2U?si=_9JD2LGnvTs-F-Fs" 
        },
          { titulo: "BREGATATA", 
         autor: " Bolofofos", 
         url: "https://youtu.be/AlQwR-IO-K0?si=P86sd-1TY73i-AaI" 
        },
        // CORRE√á√ÉO 2: T√≠tulo corrigido para evitar poluir o menu, mas o URL original foi mantido.
        { titulo: "V√çDEO INV√ÅLIDO CORRIGIDO (TIGER CODES)", 
         autor: "TIGER CODES", 
         url: "https://www.youtube.com/watch?v=5Hn58p-hYC0" 
        },
      ],
    };

    // Seletores
    const selectTema = document.getElementById("tema");
    const menuUl     = document.getElementById("menu-temas");
    const iframeEl   = document.querySelector(".video-box iframe");
    const infoTitulo = document.querySelector(".info h3");
    const infoAutor  = document.querySelector(".info p");

    // CORRE√á√ÉO 3: Fun√ß√£o toEmbed aprimorada do segundo c√≥digo para lidar com todos os tipos de URL do YouTube.
    function toEmbed(url) {
      try {
        const u = new URL(url);
        
        // 1. Links longos (youtube.com/watch?v=ID)
        const idV = u.searchParams.get("v");
        if (idV) return `https://www.youtube.com/embed/${idV}`;
        
        // 2. Short links (youtu.be/ID)
        if (u.hostname.includes("youtu.be")) {
          // Extrai apenas o ID do v√≠deo (path), ignorando o '?si=...' e outras barras.
          const pathId = u.pathname.slice(1).split('/')[0];
          if (pathId) return `https://www.youtube.com/embed/${pathId}`;
        }
        
        return url;
      } catch {
        return url;
      }
    }

    // Renderiza o menu com base no tema
    function renderMenu(tema) {
      // CORRE√á√ÉO 4: Remove espa√ßos em branco (como no valor " Bolofofos") para buscar a chave correta no objeto TEMAS.
      const normalizedTema = tema.trim();
      const lista = TEMAS[normalizedTema] || [];
      menuUl.innerHTML = "";

      lista.forEach((video) => {
        const li = document.createElement("li");
        const a  = document.createElement("a");
        a.href = "#";
        a.textContent = video.titulo.toUpperCase();
        a.setAttribute("role", "button");
        a.addEventListener("click", (e) => {
          e.preventDefault();
          trocarVideo(video);
        });
        li.appendChild(a);
        menuUl.appendChild(li);
      });

      if (lista.length) trocarVideo(lista[0]);
    }

    // Troca o v√≠deo e informa√ß√µes
    function trocarVideo(video) {
      iframeEl.src = toEmbed(video.url);
      infoTitulo.textContent = video.titulo.toUpperCase();
      infoAutor.textContent  = `${video.autor.toUpperCase()}.`;
    }

    // Inicializa√ß√£o
    renderMenu(selectTema.value);
    selectTema.addEventListener("change", () => renderMenu(selectTema.value));
  </script>
</body>
</html>